<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Galaxy IA Ultra - Amor Separado</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #1a0033; /* fondo morado oscuro suave */
}
canvas { display:block; }
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
let scene, camera, renderer;
let galaxyGroup;
let isDragging = false;
let prevX = 0, prevY = 0;
let planets = [];
let spriteCenter, centerScale = 400, pulseDir = 1;

init();
animate();

function init(){
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(
        60,
        window.innerWidth/window.innerHeight,
        0.1,
        5000
    );
    camera.position.z = 1000;

    renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setClearColor(0x1a0033,1);
    document.body.appendChild(renderer.domElement);

    galaxyGroup = new THREE.Group();
    scene.add(galaxyGroup);

    // ðŸŒŸ IluminaciÃ³n
    const ambient = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambient);
    const pointLight = new THREE.PointLight(0x88ccff, 3, 3000);
    pointLight.position.set(0,0,500);
    scene.add(pointLight);
    const glowLight = new THREE.PointLight(0xff88ff, 2, 3000);
    glowLight.position.set(0,0,-500);
    scene.add(glowLight);

    // âœ¨ Estrellas de fondo
    const starGeo = new THREE.BufferGeometry();
    const starCount = 12000;
    const starPos = [];
    for(let i=0;i<starCount;i++){
        let x = (Math.random()-0.5)*3000;
        let y = (Math.random()-0.5)*3000;
        let z = (Math.random()-0.5)*3000;
        starPos.push(x,y,z);
    }
    starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos,3));
    const starMat = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 2,
        transparent:true,
        opacity:0.8
    });
    const stars = new THREE.Points(starGeo, starMat);
    galaxyGroup.add(stars);

    // ðŸŒ€ NÃºcleo GalÃ¡ctico
    const coreGeo = new THREE.SphereGeometry(60,64,64);
    const coreMat = new THREE.MeshStandardMaterial({
        color: 0xffffff,
        emissive: 0xff99ff,
        emissiveIntensity: 2,
        roughness: 0,
        metalness: 1
    });
    const core = new THREE.Mesh(coreGeo, coreMat);
    galaxyGroup.add(core);

    // ðŸ’– Palabras de amor distribuidas uniformemente
    const words = [
        "MI NIÃ‘A","MI PRINCESA","MI CORAZON","MI VIDA","MI AMOR","MI REINA","MI TODO",
        "MI CIELO","MI LUZ","MI UNIVERSO","ERES MI TODO","TE AMO","TE ADORO","TE NECESITO",
        "MI ALMA","MI DESTINO","MI FELICIDAD","MI PAZ","MI HOGAR","MI SUEÃ‘O","MI ANGEL",
        "MI TESORO","MI RAZON","MI INFINITO","MI ESTRELLA","MI GALAXIA","MI VIDA ENTERA",
        "MI AMOR ETERNO","MI NIÃ‘A HERMOSA","MI PRINCESA HERMOSA","MI REINA BELLA",
        "MI CIELO HERMOSO","MI AMOR BONITO","MI LUZ HERMOSA","MI UNIVERSO ENTERO",
        "MI VIDA BONITA","MI AMOR VERDADERO","MI AMOR REAL","MI AMOR PURO",
        "MI AMOR SINCERO","MI AMOR INFINITO","MI AMOR PARA SIEMPRE","MI CORAZON BONITO",
        "MI NIÃ‘A LINDA","MI TODO HERMOSO","MI TODO PERFECTO","MI AMOR ETERNO",
        "ERES MI VIDA","ERES MI LUZ","ERES MI UNIVERSO","ERES MI TODO"
    ];

    const totalWords = words.length;
    const baseRadius = 300;
    const radiusStep = 10; // separaciÃ³n de Ã³rbitas para evitar amontonamiento

    words.forEach((text,i)=>{
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = 512;
        canvas.height = 256;

        ctx.clearRect(0,0,512,256);
        ctx.font="bold 60px Arial";
        ctx.textAlign="center";
        ctx.textBaseline="middle";
        ctx.fillStyle="white";
        ctx.shadowColor="#ff99ff";
        ctx.shadowBlur=10;
        ctx.fillText(text,256,128);

        const texture = new THREE.CanvasTexture(canvas);
        const mat = new THREE.SpriteMaterial({map:texture, transparent:true});
        const sprite = new THREE.Sprite(mat);

        // DistribuciÃ³n uniforme
        const radius = baseRadius + (i * radiusStep) + Math.random()*50; // separaciÃ³n
        const angle = (i/totalWords)*Math.PI*2; // distribuir en cÃ­rculo
        const yPos = (Math.random()-0.5)*200;

        // LÃ­nea de Ã³rbita visible y brillante
        const orbitGeo = new THREE.RingGeometry(radius-1, radius+1, 128);
        const orbitMat = new THREE.MeshBasicMaterial({color:0xff99ff, side:THREE.DoubleSide, transparent:true, opacity:0.3});
        const orbit = new THREE.Mesh(orbitGeo, orbitMat);
        orbit.rotation.x = Math.PI/2;
        galaxyGroup.add(orbit);

        planets.push({sprite, radius, angle, yPos, speed: 0.002 + Math.random()*0.003, orbitMat});
        sprite.position.set(
            Math.cos(angle)*radius,
            yPos,
            Math.sin(angle)*radius
        );
        sprite.scale.set(140,70,1);
        galaxyGroup.add(sprite);
    });

    // ðŸ’– Texto central "TE AMO" negro con brillo sutil y puntitos
    const canvasCenter = document.createElement("canvas");
    const ctxCenter = canvasCenter.getContext("2d");
    canvasCenter.width = 1024;
    canvasCenter.height = 512;
    ctxCenter.clearRect(0,0,1024,512);
    ctxCenter.font = "bold 120px Arial";
    ctxCenter.textAlign = "center";
    ctxCenter.textBaseline = "middle";
    ctxCenter.fillStyle = "#000000"; // negro
    ctxCenter.shadowColor = "#660066"; // brillo morado sutil
    ctxCenter.shadowBlur = 30;
    ctxCenter.fillText("TE AMO",512,256);

    // puntitos brillantes alrededor
    for(let i=0;i<50;i++){
        ctxCenter.fillStyle = "rgba(255,182,193,"+Math.random()+")"; // rosa suave
        let x = 512 + (Math.random()-0.5)*600;
        let y = 256 + (Math.random()-0.5)*300;
        ctxCenter.fillRect(x,y,2,2);
    }

    const textureCenter = new THREE.CanvasTexture(canvasCenter);
    const matCenter = new THREE.SpriteMaterial({map:textureCenter, transparent:true});
    spriteCenter = new THREE.Sprite(matCenter);
    spriteCenter.scale.set(centerScale, centerScale/2, 1);
    galaxyGroup.add(spriteCenter);

    // ðŸ‘‰ CONTROL TOTAL CON DEDO
    renderer.domElement.addEventListener("pointerdown", e=>{
        isDragging = true;
        prevX = e.clientX;
        prevY = e.clientY;
    });

    renderer.domElement.addEventListener("pointermove", e=>{
        if(!isDragging) return;
        let dx = e.clientX - prevX;
        let dy = e.clientY - prevY;

        galaxyGroup.rotation.y += dx * 0.002;
        galaxyGroup.rotation.x += dy * 0.002;

        prevX = e.clientX;
        prevY = e.clientY;
    });

    renderer.domElement.addEventListener("pointerup", ()=>{
        isDragging = false;
    });

    renderer.domElement.addEventListener("pointerleave", ()=>{
        isDragging = false;
    });

    window.addEventListener("resize", ()=>{
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
}

function animate(){
    requestAnimationFrame(animate);

    // AnimaciÃ³n planetaria
    planets.forEach(p=>{
        p.angle += p.speed;
        p.sprite.position.set(
            Math.cos(p.angle)*p.radius,
            p.yPos,
            Math.sin(p.angle)*p.radius
        );

        // Hacer que la Ã³rbita pulse suavemente
        p.orbitMat.opacity = 0.2 + 0.1*Math.sin(Date.now()*0.002);
    });

    // Pulso central suave
    if(centerScale >= 420) pulseDir = -1;
    if(centerScale <= 380) pulseDir = 1;
    centerScale += pulseDir * 0.5;
    spriteCenter.scale.set(centerScale, centerScale/2, 1);

    renderer.render(scene,camera);
}
</script>

</body>
</html>
